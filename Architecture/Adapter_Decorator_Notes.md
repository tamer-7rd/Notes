# –ü–∞—Ç—Ç–µ—Ä–Ω—ã Adapter –∏ Decorator –≤ Python

## üèóÔ∏è –ü–∞—Ç—Ç–µ—Ä–Ω Adapter (–ê–¥–∞–ø—Ç–µ—Ä)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**  
–ê–¥–∞–ø—Ç–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∞—Å—Å–∞–º —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ. –û–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ ¬´–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫¬ª –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –º–µ—Ç–æ–¥–∞–º–∏, –æ–∂–∏–¥–∞–µ–º—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–º.

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**  
- –ü—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏.  
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ —á—É–∂–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Å–≤–æ–µ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É.

**–ê–Ω–∞–ª–æ–≥–∏—è:**  
–ö–∞–∫ –ø–µ—Ä–µ—Ö–æ–¥–Ω–∏–∫ –º–µ–∂–¥—É –≤–∏–ª–∫–æ–π –∏ —Ä–æ–∑–µ—Ç–∫–æ–π —Ä–∞–∑–Ω–æ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ ‚Äî –∞–¥–∞–ø—Ç–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–µ–¥–∏–Ω–∏—Ç—å –∏—Ö.

### –ü—Ä–∏–º–µ—Ä (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API)

```python
class ExternalWeatherAPI:
    def fetch_weather_data(self):
        return {'temp_f': 71.6, 'rh_percent': 75}

class WeatherTarget:
    def get_temperature_celsius(self):
        raise NotImplementedError
    def get_humidity_percentage(self):
        raise NotImplementedError

class WeatherAdapter(WeatherTarget):
    def __init__(self, external_api: ExternalWeatherAPI):
        self._api = external_api

    def get_temperature_celsius(self):
        data = self._api.fetch_weather_data()
        return round((data['temp_f'] - 32) * 5 / 9, 1)

    def get_humidity_percentage(self):
        return self._api.fetch_weather_data()['rh_percent']

def display_weather(service: WeatherTarget):
    print(f"–ü–æ–≥–æ–¥–∞: {service.get_temperature_celsius()}¬∞C, "
          f"–í–ª–∞–∂–Ω–æ—Å—Ç—å: {service.get_humidity_percentage()}%")

api = ExternalWeatherAPI()
adapter = WeatherAdapter(api)
display_weather(adapter)
```

**–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:** –ê–¥–∞–ø—Ç–µ—Ä **–º–µ–Ω—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –æ–±—ä–µ–∫—Ç–∞, –Ω–µ –∏–∑–º–µ–Ω—è—è —Å–∞–º –æ–±—ä–µ–∫—Ç.

---

## üéÅ –ü–∞—Ç—Ç–µ—Ä–Ω Decorator (–î–µ–∫–æ—Ä–∞—Ç–æ—Ä)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**  
–ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –æ–±—ä–µ–∫—Ç—É –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–µ –∏–∑–º–µ–Ω—è—è –µ–≥–æ –∫–æ–¥. –≠—Ç–æ –æ–±–µ—Ä—Ç–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞.

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**  
- –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç.–¥.  
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.

**–ê–Ω–∞–ª–æ–≥–∏—è:**  
–ö–∞–∫ —É–∫—Ä–∞—à–µ–Ω–∏—è –Ω–∞ –µ–ª–∫–µ: —Å–∞–º–∞ –µ–ª–∫–∞ (–æ–±—ä–µ–∫—Ç) –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–π –∂–µ, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–∞ –Ω–µ–µ –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—è –¥–µ—Ä–µ–≤–æ.

### –ü—Ä–∏–º–µ—Ä (–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

```python
class Notifier:
    def send(self, message: str):
        raise NotImplementedError

class EmailNotifier(Notifier):
    def send(self, message: str):
        print(f"–û–¢–ü–†–ê–í–õ–ï–ù–û (Email): '{message}'")
        return True

class NotifierDecorator(Notifier):
    def __init__(self, notifier: Notifier):
        self._notifier = notifier

    def send(self, message: str):
        return self._notifier.send(message)

class LoggingDecorator(NotifierDecorator):
    def send(self, message: str):
        print(f"[–õ–û–ì] –û—Ç–ø—Ä–∞–≤–∫–∞: '{message[:20]}...'")
        result = super().send(message)
        print(f"[–õ–û–ì] –£—Å–ø–µ—Ö: {result}")
        return result

class CompressionDecorator(NotifierDecorator):
    def send(self, message: str):
        compressed_message = f"[{len(message)} –±–∞–π—Ç —Å–∂–∞—Ç–æ]"
        print(f"[–°–ñ–ê–¢–ò–ï] –ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä: {len(message)}")
        return super().send(compressed_message)

base = EmailNotifier()
decorated = LoggingDecorator(CompressionDecorator(base))
decorated.send("–û—á–µ–Ω—å –¥–ª–∏–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞.")
```

**–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:** –î–µ–∫–æ—Ä–∞—Ç–æ—Ä **—Ä–∞—Å—à–∏—Ä—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ** –æ–±—ä–µ–∫—Ç–∞, —Å–æ—Ö—Ä–∞–Ω—è—è –µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

## üîë –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Adapter –∏ Decorator

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Adapter | Decorator |
|----------------|----------|------------|
| **–¶–µ–ª—å** | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ |
| **–û—Ç–Ω–æ—à–µ–Ω–∏–µ** | –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã | –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| **–†–æ–ª—å** | ¬´–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫¬ª | ¬´–£–ª—É—á—à–∞—Ç–µ–ª—å¬ª |
| **–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å** | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ |

---

## üß± –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –≤–º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–π –∫–ª–∞—Å—Å–æ–≤ –≤—Ä—É—á–Ω—É—é

–ò–Ω–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–æ–π, –Ω–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–µ–ª–∞–µ—Ç —ç—Ç–æ **—á–∏—â–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ**.

### –ü—Ä–∏–º–µ—Ä:

```python
def check_admin_access():
    if "admin" not in CURRENT_USER_ROLES:
        raise PermissionError("Access Denied")

def delete_critical_data(item_id):
    check_admin_access()
```

–ü—Ä–æ—Ç–∏–≤:

```python
@requires_role("admin")
def delete_critical_data(item_id):
    pass
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞:

1. **–ß–∏—Å—Ç–æ—Ç–∞ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å** ‚Äî —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ.
2. **DRY** ‚Äî –Ω–µ –Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤–æ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö.
3. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫.
4. **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî –º–æ–∂–Ω–æ –Ω–∞—Å–ª–∞–∏–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã:
   ```python
   @cache_result
   @requires_role("admin")
   @check_login_status
   def get_report(report_id):
       ...
   ```

–í —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è, –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (—Ç–∞–∫–æ–µ –∫–∞–∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è) –∫ –º–Ω–æ–∂–µ—Å—Ç–≤—É —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ –º–µ—Ç–æ–¥–æ–≤, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ **–∏–¥–µ–∞–ª—å–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—â–µ, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ –ø—Ä–æ—â–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ.

---

## üí¨ –ò—Ç–æ–≥

- **Adapter** —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.  
- **Decorator** —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è.  
- –û–±–∞ –ø–æ–≤—ã—à–∞—é—Ç –≥–∏–±–∫–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏–Ω—Ü–∏–ø—ã **—á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** –∏ **SOLID**.
