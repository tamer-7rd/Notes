# Git Rebase: Базовое объяснение

Rebase в Git --- это способ «переписать» историю коммитов так, чтобы они
легли друг за другом более аккуратно.\
Он как хирургическая операция: мы берём твою ветку и «приклеиваем» её
коммиты поверх другой ветки, будто они всегда там были.\
В отличие от `merge`, который оставляет «развилку» в истории, `rebase`
делает её линейной и чистой.

------------------------------------------------------------------------

## Где это нужно

-   Когда ты работаешь над своей feature-веткой, а в `main` уже
    появились новые коммиты. Чтобы встроить свою работу в свежую версию
    проекта без лишних merge-коммитов.
-   Перед тем как отправлять Pull Request --- чтобы история выглядела
    аккуратной.

------------------------------------------------------------------------

## Базовый синтаксис

### Подтянуть изменения из `main` в свою ветку через rebase:

``` bash
git checkout feature-branch
git fetch origin
git rebase origin/main
```

### Перебазировать одну ветку на другую:

``` bash
git checkout feature-branch
git rebase main
```

### Интерактивный rebase (для чистки истории):

``` bash
git rebase -i HEAD~3
```

Позволяет переписать последние 3 коммита: объединить, переименовать,
удалить ненужные.\
В редакторе будут показаны коммиты и действия (`pick`, `squash`,
`reword`).

------------------------------------------------------------------------

## Важные моменты

-   Rebase меняет историю. Если ветка уже отправлена на GitHub и кто-то
    её использует, могут возникнуть конфликты.
-   Обычно rebase применяют **до пуша**.
-   После rebase пушить с флагом `--force-with-lease`:

``` bash
git push --force-with-lease
```
